<app-navbar></app-navbar>
<div class="main" fxLayout="row">
  <div class="sidebar" fxLayout="column" fxLayoutAlign="start start ">
    <table mat-table [dataSource]="transactions" class="mat-elevation-z8">
      <!-- Item Column -->
      <ng-container matColumnDef="nom">
        <th mat-header-cell *matHeaderCellDef> nom </th>
        <td mat-cell *matCellDef="let transaction"> {{transaction.nom}} </td>
        <td mat-footer-cell *matFooterCellDef> Total </td>
      </ng-container>
      <!-- Cost qte-->
      <ng-container matColumnDef="qte">
        <th mat-header-cell *matHeaderCellDef> qte </th>
        <td mat-cell *matCellDef="let transaction"> {{transaction.qte}} </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>
      <!-- Cost Column -->
      <ng-container matColumnDef="prix">
        <th mat-header-cell *matHeaderCellDef> prix </th>
        <td mat-cell *matCellDef="let transaction"> {{transaction.prix }}DT </td>
        <td mat-footer-cell *matFooterCellDef> {{getTotalprix()}}DT </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
    </table>
    <div class="w-100" fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="10px">
    </div>
    <nav class="navbar-default  navbar-static-side" role="navigation">
      <div class="sidebar-collapse">
        <ul class="nav metismenu" id="side-menu">
          <br>
          <br>
          <br>
          <li *ngFor="let item of items" [ngClass]="{active: activeRoute('item.link')}">
            <a [routerLink]="[item.link]">
              <i class="fas fa-{{item.icon}}"></i> 
              <span class="nav-label">{{item.title}}</span>
              </a>
          </li>
        </ul>
      </div>
    </nav>
  </div>
  <div class="content">
    <mat-tab-group>
      <!-- ENTREE -->
      <mat-tab label="Entree">
        <section id="t-cards">
          <div class="container">
            <div class="row">
              <div class="col-sm-4 col-md-2" *ngFor="let plat of plats | filterbyserveur : 'ENTREE'">
                <div class="panel panel-default panel-card">
                  <div class="panel-heading">
                    <img src="../../../assets/plat/soupe.jpg" />
                    <button class="btn btn-primary btn-sm" role="button"
                      (click)="addPlat(plat)">{{plat.payload.val().prix}}dt</button>
                  </div>
                  <div class="panel-body text-center">
                    <h4 class="panel-header">{{plat.payload.val().nomPlat}}</h4>
                    <small>A short description goes here.</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </mat-tab>
      <!-- SUITE -->
      <mat-tab label="Suite">
        <section id="t-cards">
          <div class="container">
            <div class="row">
              <div class="col-sm-4 col-md-2" *ngFor="let plat of plats  | filterbyserveur : 'SUITE'">
                <div class="panel panel-default panel-card">
                  <div class="panel-heading">
                    <img src="../../../assets/plat/Lasagne.jpg" />
                    <button class="btn btn-primary btn-sm" role="button"
                      (click)="addPlat(plat)">{{plat.payload.val().prix}}dt</button>
                  </div>
                  <div class="panel-body text-center">
                    <h4 class="panel-header">{{plat.payload.val().nomPlat}}</h4>
                    <small>A short description goes here.</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </mat-tab>
      <!-- DESSERT -->
      <mat-tab label="Dessert">
        <section id="t-cards">
          <div class="container">
            <div class="row">
              <div class="col-sm-4 col-md-2 " *ngFor="let plat of plats  | filterbyserveur : 'DESSERT'">
                <div class="panel panel-default panel-card">
                  <div class="panel-heading">
                    <img src="../../../assets/dessert/20170526-no-bake-cheesecake-vicky-wasik-18-625x469.jpg" />
                    <button class="btn btn-primary btn-sm" role="button">8dt</button>
                  </div>
                  <div class="panel-body text-center">
                    <h4 class="panel-header">Cheese Cake</h4>
                    <small>A short description goes here.</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </mat-tab>
      <!-- BOISSON  -->
      <mat-tab label="Boisson ">
        <section id="t-cards">
          <div class="container">
            <div class="row">
              <div class="col-sm-4 col-md-2" *ngFor="let boisson of boissons  ">
                <div class="panel panel-default panel-card">
                  <div class="panel-heading">
                    <img src="../../../assets/boisson/café créme.jpg" />
                    <button class="btn btn-primary btn-sm" role="button"
                      (click)="addBoisson(boisson)">{{boisson.payload.val().prix}}dt></button>
                  </div>
                  <div class="panel-body text-center">
                    <h4 class="panel-header">{{boisson.payload.val().libelle}}</h4>
                    <small>A short description goes here.</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </mat-tab>
    </mat-tab-group>
  </div>
  <div [fxHide.xs]="true" class="notification" [ngClass]="{'close': !opened, 'open': opened}">
    Notification
  </div>
</div>
<!-- SEARCH -->
<div class="search" [ngClass]="{'search-close': !onSerch, 'search-open': onSerch}">
  <agm-map [latitude]="lat" [longitude]="lng">
    <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
  </agm-map>
  <button class="btn btn-primary btn-sm" (click)="toggleSearch()">close</button>
</div>